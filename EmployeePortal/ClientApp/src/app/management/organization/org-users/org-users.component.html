<ngx-loading [show]="loading"></ngx-loading>
<ngx-loading [show]="disableGrid" id="gridDisableDiv"></ngx-loading>

<mat-expansion-panel [expanded]="true">
  <mat-expansion-panel-header>
    <mat-panel-title>
      Users
    </mat-panel-title>
    <mat-panel-description>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <kendo-grid
    [data]="gridView"
    [pageSize]="gridState.take"
    [skip]="gridState.skip"
    [sort]="gridState.sort"
    [sortable]="true"
    [selectable]="true"
    [filter]="gridState.filter"
    filterable="menu"
    (add)="onAddClick($event)"
    (cancel)="cancelHandler($event)"
    (save)="saveHandler($event)"
    (edit)="editHandler($event)"
    (remove)="removeHandler($event)"
  >
  <ng-template kendoGridToolbarTemplate>
    <button kendoGridAddCommand class="k-button">Add User</button>
  </ng-template>

  <kendo-grid-column field="firstName" title="First Name" width="150px"></kendo-grid-column>
  <kendo-grid-column field="lastName" title="Last Name" width="150px"></kendo-grid-column>
  <kendo-grid-column field="avatar" title="Avatar" width="125px"></kendo-grid-column>
  <kendo-grid-column field="phoneNumber" title="Phone #" width="125px"></kendo-grid-column>
  <kendo-grid-column field="email" title="Email" width="125px"></kendo-grid-column>
  <kendo-grid-command-column title="Actions" min-width="100px" max-width="100px" width="100px">
    <ng-template kendoGridCellTemplate let-isNew="isNew">
      <button kendoGridEditCommand iconClass="fal fa-edit" style="background: none; border: none; height: 100%; font-size: 20px"></button>
      <button kendoGridRemoveCommand iconClass="fal fa-minus-circle" style="background: none; border: none; height: 100%; font-size: 20px"></button>
      <button kendoGridSaveCommand [disabled]="formGroup?.invalid">{{ isNew ? 'Add' : 'Update' }}</button>
      <button kendoGridCancelCommand>{{ isNew ? 'Discard changes' : 'Cancel' }}</button>
    </ng-template>
  </kendo-grid-command-column>
  </kendo-grid>
</mat-expansion-panel>

<p-overlayPanel #hoverPanel id="hoverPanel" [dismissable]="'false'">
  Content
</p-overlayPanel>
<app-actionpanel></app-actionpanel>
